<div class="form-shared-link">
  <% if controller_name != 'sessions' %>
    Already have an account? <%= link_to "Sign in", new_session_path(resource_name), class: "shared-link no-outline" %><br />
  <% end %>
  <% if devise_mapping.registerable? && controller_name != 'registrations' %>
    <%= link_to "Create my account", new_registration_path(resource_name), class: "shared-link no-outline" %><br />
  <% end %>
  <% if devise_mapping.recoverable? && controller_name != 'passwords' && controller_name != 'registrations' %>
    <%= link_to "Forgot your password?", new_password_path(resource_name), class: "shared-link no-outline" %><br />
  <% end %>
  <% if devise_mapping.confirmable? && controller_name != 'confirmations' && devise_mapping.lockable? && resource_class.unlock_strategy_enabled?(:email) && controller_name != 'unlocks' %>
    <%= link_to "Can't access my account", "#", class: "shared-link no-outline", data: { toggle: "modal", target: "#troubleModal"  } %>
  <% end %>
</div>

<% if devise_mapping.confirmable? && controller_name != 'confirmations' && devise_mapping.lockable? && resource_class.unlock_strategy_enabled?(:email) && controller_name != 'unlocks' %>
  <div class="modal fade" id="troubleModal" tabindex="-1" role="dialog" aria-labelledby="troubleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="troubleModalLabel">Can't access my account</h5>
          <button type="button" class="close no-outline cursor-pointer" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col-md-6 col-sm-12 margin-bottom-20-sm">
                <div class="instructions-title">
                  Didn't receive confirmation instructions?
                </div>
                <div class="instructions-content">
                  <p>I registered, I did not receive confirmation email</p>
                  <%= link_to "Confirm email", new_confirmation_path(resource_name), class: "btn btn-modal-dark btn-outline-dark btn-block" %>
                </div>
              </div>
              <div class="col-md-6 col-sm-12">
                <div class="instructions-title">
                  Didn't receive unlock instructions?
                </div>
                <div class="instructions-content">
                  <p>My account has been locked, but I did not receive the unlock email</p>
                  <%= link_to "Unlock account", new_unlock_path(resource_name), class: "btn btn-modal-dark btn-outline-dark btn-block" %>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-primary btn-modal-dark" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
<% end %>
